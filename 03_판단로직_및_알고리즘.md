# 03. ê°œì—… vs ì¸ìˆ˜ íŒë‹¨ ë¡œì§ & ì›ì¥ ìœ í˜•ë³„ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜

---

## Bï¸âƒ£ 'ê°œì—… vs ì¸ìˆ˜' íŒë‹¨ ë¡œì§

### íŒë‹¨ í”„ë ˆì„ì›Œí¬

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   ì›ì¥ í”„ë¡œí•„ ì…ë ¥   â”‚
                    â”‚  (ì˜ˆì‚°, ê²½ë ¥, ì „ë¬¸)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  1ì°¨ í•„í„°: ì˜ˆì‚° ë²”ìœ„ â”‚
                    â”‚  ê°œì› ê°€ëŠ¥ ì§€ì—­ ì„ ë³„ â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼              â–¼              â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  ì‹ ê·œ ê°œì›    â”‚ â”‚  ì¸ìˆ˜     â”‚ â”‚ ë‘˜ ë‹¤ ë¶„ì„ â”‚
     â”‚  ì‹œë®¬ë ˆì´ì…˜   â”‚ â”‚ ë§¤ë¬¼ íƒìƒ‰ â”‚ â”‚  ë¹„êµ ëª¨ë“œ  â”‚
     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
            â”‚               â”‚              â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  ë¹„êµ ìŠ¤ì½”ì–´ë§   â”‚
                   â”‚  (5ê°œ ì¶• Ã— ê°€ì¤‘) â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  AI ìµœì¢… íŒì •   â”‚
                   â”‚  + ê·¼ê±° ë¬¸ì¥    â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë¹„êµ ì ìˆ˜ ì‚°ì¶œ ê³µì‹

#### ì‹ ê·œ ê°œì› ì ìˆ˜ (New_Score)

```python
def calculate_new_opening_score(location, user_profile):
    """ì‹ ê·œ ê°œì› ì ìˆ˜ ì‚°ì¶œ"""

    # 1. ì‹œì¥ ê¸°íšŒ ì ìˆ˜ (0~25ì )
    population_per_clinic = location.population / max(location.dental_count, 1)
    market_score = min(25, population_per_clinic / 200 * 25)
    # ê¸°ì¤€: ì¸êµ¬ 5,000ëª…ë‹¹ ì¹˜ê³¼ 1ê°œ = ë§Œì 

    # 2. ë¹„ìš© íš¨ìœ¨ ì ìˆ˜ (0~25ì )
    cost_ratio = location.monthly_rent / location.area_m2
    cost_score = max(0, 25 - (cost_ratio / max_cost_ratio * 25))
    # ì„ëŒ€ë£Œê°€ ë‚®ì„ìˆ˜ë¡ ë†’ì€ ì ìˆ˜

    # 3. ì ‘ê·¼ì„± ì ìˆ˜ (0~20ì )
    access_score = 0
    if location.subway_distance < 300:
        access_score += 10
    elif location.subway_distance < 500:
        access_score += 7
    elif location.subway_distance < 1000:
        access_score += 4
    access_score += min(10, location.bus_stops_500m * 2)

    # 4. ì„±ì¥ì„± ì ìˆ˜ (0~15ì )
    pop_growth = location.population_growth_rate  # ìµœê·¼ 3ë…„
    if pop_growth > 5:
        growth_score = 15
    elif pop_growth > 2:
        growth_score = 12
    elif pop_growth > 0:
        growth_score = 8
    else:
        growth_score = max(0, 5 + pop_growth)

    # 5. í”„ë¡œí•„ ì í•©ë„ (0~15ì )
    fit_score = calculate_profile_fit(location, user_profile)

    total = market_score + cost_score + access_score + growth_score + fit_score
    return {
        'total': round(total, 1),
        'breakdown': {
            'market': round(market_score, 1),
            'cost': round(cost_score, 1),
            'access': round(access_score, 1),
            'growth': round(growth_score, 1),
            'fit': round(fit_score, 1)
        }
    }
```

#### ì¸ìˆ˜ ì ìˆ˜ (Acquire_Score)

```python
def calculate_acquisition_score(listing, user_profile):
    """ì¸ìˆ˜ ë§¤ë¬¼ ì ìˆ˜ ì‚°ì¶œ"""

    # 1. ê°€ê²© ì ì •ì„± (0~25ì )
    # ì–‘ë„ê°€ Ã· ì›”ë§¤ì¶œ = íšŒìˆ˜ë°°ìˆ˜ (ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ)
    payback_ratio = listing.asking_price / max(listing.monthly_revenue, 1)
    price_score = max(0, 25 - (payback_ratio - 10) * 2.5)
    # 10ê°œì›” íšŒìˆ˜ = ë§Œì , 20ê°œì›” íšŒìˆ˜ = 0ì 

    # 2. ë§¤ì¶œ ì•ˆì •ì„± (0~25ì )
    revenue_trend = listing.revenue_6month_trend  # ìµœê·¼ 6ê°œì›” ì¶”ì„¸
    patient_score = min(15, listing.daily_patients / 30 * 15)
    stability_score = patient_score + (10 if revenue_trend >= 0 else max(0, 10 + revenue_trend * 2))

    # 3. ì‹œì„¤ ìƒíƒœ (0~20ì )
    equipment_age = listing.avg_equipment_age_years
    interior_age = listing.interior_age_years
    facility_score = max(0, 10 - equipment_age) + max(0, 10 - interior_age)

    # 4. ì…ì§€ ì ìˆ˜ (0~15ì ) â€” ìœ„ ì‹ ê·œê°œì›ê³¼ ë™ì¼ ë¡œì§ì˜ ì¶•ì†ŒíŒ
    location_score = calculate_location_brief(listing.location) * 0.15

    # 5. ë¦¬ìŠ¤í¬ ê°ì  (-15~0ì )
    risk_deduction = 0
    if listing.lease_remaining < 12:
        risk_deduction -= 5   # ì„ëŒ€ ì”ì—¬ê¸°ê°„ ë¶€ì¡±
    if listing.reason_for_sale in ['ë§¤ì¶œí•˜ë½', 'ê²½ìŸê³¼ë‹¤']:
        risk_deduction -= 5   # ë¶€ì •ì  ë§¤ê° ì‚¬ìœ 
    if not listing.is_verified:
        risk_deduction -= 5   # ë¯¸ê²€ì¦ ë§¤ë¬¼

    total = price_score + stability_score + facility_score + location_score + risk_deduction
    return max(0, min(100, round(total, 1)))
```

#### ìµœì¢… ë¹„êµ íŒì •

```python
def decide_open_vs_acquire(new_score, acquire_score, user_profile):
    """ê°œì—… vs ì¸ìˆ˜ ìµœì¢… íŒì •"""

    # ìœ í˜•ë³„ ê°€ì¤‘ì¹˜ ë³´ì •
    weight = {
        'ì‹ ê·œ': {'new': 1.0, 'acquire': 1.0},
        'ê²½ë ¥': {'new': 0.9, 'acquire': 1.1},    # ê²½ë ¥ìëŠ” ì¸ìˆ˜ ì„ í˜¸ ê²½í–¥
        'ì „ë¬¸ì˜': {'new': 1.1, 'acquire': 0.9},  # ì „ë¬¸ì˜ëŠ” ë§ì¶¤ ì„¤ê³„ ì„ í˜¸
        'ìˆ˜ë ¨ì¤‘': {'new': 1.0, 'acquire': 1.0},
    }

    w = weight.get(user_profile.dentist_type, {'new': 1.0, 'acquire': 1.0})
    adjusted_new = new_score * w['new']
    adjusted_acq = acquire_score * w['acquire']

    gap = adjusted_new - adjusted_acq

    if gap > 15:
        decision = 'OPEN_NEW'
        confidence = min(0.95, 0.7 + gap / 100)
        reason = 'ì‹ ê·œ ê°œì›ì´ ëª…í™•íˆ ìœ ë¦¬í•©ë‹ˆë‹¤'
    elif gap > 5:
        decision = 'LEAN_NEW'
        confidence = 0.6 + gap / 100
        reason = 'ì‹ ê·œ ê°œì›ì´ ì†Œí­ ìœ ë¦¬í•˜ë‚˜ ì¸ìˆ˜ ë§¤ë¬¼ë„ ê²€í† í•´ ë³´ì„¸ìš”'
    elif gap > -5:
        decision = 'NEUTRAL'
        confidence = 0.5
        reason = 'ë‘ ì˜µì…˜ ëª¨ë‘ ë¹„ìŠ·í•œ ìˆ˜ì¤€ì…ë‹ˆë‹¤. ê°œì¸ ì„ í˜¸ë¥¼ ê³ ë ¤í•˜ì„¸ìš”'
    elif gap > -15:
        decision = 'LEAN_ACQUIRE'
        confidence = 0.6 + abs(gap) / 100
        reason = 'ì¸ìˆ˜ê°€ ì†Œí­ ìœ ë¦¬í•˜ë‚˜ ì‹ ê·œ ê°œì›ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤'
    else:
        decision = 'ACQUIRE'
        confidence = min(0.95, 0.7 + abs(gap) / 100)
        reason = 'ì¸ìˆ˜ê°€ ëª…í™•íˆ ìœ ë¦¬í•©ë‹ˆë‹¤'

    return {
        'decision': decision,
        'confidence': round(confidence, 2),
        'new_score': round(adjusted_new, 1),
        'acquire_score': round(adjusted_acq, 1),
        'reason': reason
    }
```

---

## Cï¸âƒ£ ì›ì¥ ìœ í˜•ë³„ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜

### ìœ í˜• ë¶„ë¥˜ ì²´ê³„

```
ì›ì¥ ìœ í˜• ë¶„ë¥˜ ë§¤íŠ¸ë¦­ìŠ¤
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
              ê²½ë ¥ ë‚®ìŒ (0-3ë…„)    ê²½ë ¥ ë†’ìŒ (5ë…„+)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì˜ˆì‚°          â”‚ TYPE A            â”‚ TYPE B          â”‚
ë‚®ìŒ          â”‚ ì•ˆì • ì§€í–¥í˜•       â”‚ ì•Œì§œ ì‚¬ëƒ¥í˜•      â”‚
(~2ì–µ)        â”‚ ì†Œê·œëª¨Â·ì €ë¦¬ìŠ¤í¬   â”‚ ê°€ì„±ë¹„ ê·¹ëŒ€í™”    â”‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
ì˜ˆì‚°          â”‚ TYPE C            â”‚ TYPE D          â”‚
ë†’ìŒ          â”‚ ì„±ì¥ íˆ¬ìí˜•       â”‚ í”„ë¦¬ë¯¸ì—„í˜•       â”‚
(3ì–µ+)        â”‚ ì¤‘í˜•Â·ì„±ì¥ ì ì¬ë ¥  â”‚ ëŒ€í˜•Â·ê³ ê¸‰ ìƒê¶Œ   â”‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ì¶”ê°€ ë¶„ë¥˜ì¶•:
- ì „ë¬¸ì˜ ì—¬ë¶€ â†’ TYPE E: ì „ë¬¸ íŠ¹í™”í˜• (êµì •, ì†Œì•„, êµ¬ê°•ì™¸ê³¼)
- ê³µë™ ê°œì› â†’ TYPE F: íŒŒíŠ¸ë„ˆì‹­í˜• (2ì¸ ì´ìƒ ë™ì—…)
```

### ìœ í˜•ë³„ ì¶”ì²œ ë¡œì§

```python
RECOMMENDATION_PROFILES = {
    'TYPE_A': {  # ì•ˆì • ì§€í–¥í˜•
        'name': 'ì•ˆì • ì§€í–¥í˜• (ì‹ ê·œ ì˜ì‚¬, ì†Œê·œëª¨ ì˜ˆì‚°)',
        'weight_override': {
            'cost': 1.5,        # ë¹„ìš© ê°€ì¤‘ì¹˜ â†‘
            'competition': 1.3,  # ê²½ìŸ íšŒí”¼ â†‘
            'population': 1.0,
            'access': 0.8,
            'growth': 0.8,
        },
        'filters': {
            'max_rent_pyeong': 150000,    # í‰ë‹¹ 15ë§Œì› ì´í•˜
            'min_area_pyeong': 20,         # ìµœì†Œ 20í‰
            'max_area_pyeong': 35,         # ìµœëŒ€ 35í‰
            'max_competition_radius': 5,   # ë°˜ê²½ 500m ë‚´ ì¹˜ê³¼ 5ê°œ ì´í•˜
            'prefer_residential': True,     # ì£¼ê±°ì§€ì—­ ì„ í˜¸
        },
        'recommended_scale': 'S',
        'opening_type_bias': 'acquire',    # ì¸ìˆ˜ ìª½ìœ¼ë¡œ ì•½ê°„ í¸í–¥
        'risk_tolerance': 'low',
        'message_template': (
            "{name} ì„ ìƒë‹˜ì€ ì•ˆì •ì ì¸ ì‹œì‘ì„ ìœ„í•´ "
            "ì£¼ê±° ë°€ì§‘ ì§€ì—­ì˜ ì†Œê·œëª¨ ì¹˜ê³¼ë¥¼ ì¶”ì²œë“œë¦½ë‹ˆë‹¤. "
            "ì›” ê³ ì •ë¹„ë¥¼ {monthly_fixed}ë§Œì› ì´í•˜ë¡œ ìœ ì§€í•˜ë©´ì„œ, "
            "ë°˜ê²½ 500m ë‚´ ê²½ìŸ ì¹˜ê³¼ê°€ {competition}ê°œ ì´í•˜ì¸ "
            "{region} ì§€ì—­ì´ ì í•©í•©ë‹ˆë‹¤."
        )
    },

    'TYPE_B': {  # ì•Œì§œ ì‚¬ëƒ¥í˜•
        'name': 'ì•Œì§œ ì‚¬ëƒ¥í˜• (ê²½ë ¥ ì˜ì‚¬, ê°€ì„±ë¹„ ì¤‘ì‹œ)',
        'weight_override': {
            'cost': 1.3,
            'competition': 1.0,
            'population': 1.2,
            'access': 1.0,
            'growth': 1.2,
        },
        'filters': {
            'max_rent_pyeong': 200000,
            'min_area_pyeong': 25,
            'max_area_pyeong': 45,
            'min_population_per_clinic': 3000,  # ì¹˜ê³¼ë‹¹ ì¸êµ¬ 3000ëª… ì´ìƒ
            'prefer_emerging': True,             # ì‹ í¥ ìƒê¶Œ ì„ í˜¸
        },
        'recommended_scale': 'M',
        'opening_type_bias': 'neutral',
        'risk_tolerance': 'medium',
        'message_template': (
            "{name} ì„ ìƒë‹˜ì˜ ê²½ë ¥ê³¼ ì˜ˆì‚°ì„ ê³ ë ¤í•˜ë©´, "
            "ì•„ì§ ì¹˜ê³¼ê°€ ë¶€ì¡±í•˜ì§€ë§Œ ì¸êµ¬ ìœ ì…ì´ í™œë°œí•œ "
            "ì‹ í¥ ìƒê¶Œì„ ë…¸ë¦¬ëŠ” ì „ëµì´ íš¨ê³¼ì ì…ë‹ˆë‹¤. "
            "{region} ì§€ì—­ì€ ì¹˜ê³¼ë‹¹ ì¸êµ¬ {pop_per_clinic}ëª…ìœ¼ë¡œ "
            "ê¸°íšŒê°€ ë†’ì€ ì§€ì—­ì…ë‹ˆë‹¤."
        )
    },

    'TYPE_C': {  # ì„±ì¥ íˆ¬ìí˜•
        'name': 'ì„±ì¥ íˆ¬ìí˜• (ì‹ ê·œ ì˜ì‚¬, ê³µê²©ì  íˆ¬ì)',
        'weight_override': {
            'cost': 0.8,
            'competition': 1.0,
            'population': 1.3,
            'access': 1.2,
            'growth': 1.5,
        },
        'filters': {
            'min_area_pyeong': 30,
            'max_area_pyeong': 50,
            'min_daily_floating': 10000,  # ì¼ ìœ ë™ì¸êµ¬ 1ë§Œ ì´ìƒ
            'prefer_commercial': True,     # ìƒì—…ì§€ì—­ ì„ í˜¸
        },
        'recommended_scale': 'M',
        'opening_type_bias': 'new',       # ì‹ ê·œ ê°œì› ì„ í˜¸
        'risk_tolerance': 'high',
        'message_template': (
            "{name} ì„ ìƒë‹˜ì€ ì„±ì¥ ì ì¬ë ¥ì´ ë†’ì€ ì§€ì—­ì—ì„œ "
            "ì¤‘í˜• ê·œëª¨ì˜ ì‹ ê·œ ê°œì›ì„ ì¶”ì²œë“œë¦½ë‹ˆë‹¤. "
            "ì´ˆê¸° íˆ¬ìê°€ í¬ì§€ë§Œ {region} ì§€ì—­ì˜ ì¸êµ¬ ì„±ì¥ë¥  "
            "{growth_rate}%ì™€ ìœ ë™ì¸êµ¬ë¥¼ ê³ ë ¤í•˜ë©´ "
            "{breakeven}ê°œì›” ë‚´ ì†ìµë¶„ê¸°ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤."
        )
    },

    'TYPE_D': {  # í”„ë¦¬ë¯¸ì—„í˜•
        'name': 'í”„ë¦¬ë¯¸ì—„í˜• (ê²½ë ¥ ì˜ì‚¬, ê³ ê¸‰ ìƒê¶Œ)',
        'weight_override': {
            'cost': 0.5,        # ë¹„ìš© ë¯¼ê°ë„ ë‚®ìŒ
            'competition': 0.8,
            'population': 1.0,
            'access': 1.5,      # ì ‘ê·¼ì„± ì¤‘ì‹œ
            'growth': 1.0,
        },
        'filters': {
            'min_area_pyeong': 40,
            'commercial_grade': ['A', 'B'],  # A/Bê¸‰ ìƒê¶Œ
            'near_subway': True,              # ì—­ì„¸ê¶Œ í•„ìˆ˜
            'building_class': ['A', 'B+'],    # ê³ ê¸‰ ê±´ë¬¼
        },
        'recommended_scale': 'L',
        'opening_type_bias': 'new',
        'risk_tolerance': 'medium',
        'message_template': (
            "{name} ì„ ìƒë‹˜ì˜ ê²½ë ¥ê³¼ ìë³¸ë ¥ì´ë¼ë©´ "
            "í”„ë¦¬ë¯¸ì—„ ìƒê¶Œì—ì„œì˜ ê°œì›ì´ ë¸Œëœë“œ êµ¬ì¶•ì— ìœ ë¦¬í•©ë‹ˆë‹¤. "
            "{region}ì€ {grade}ê¸‰ ìƒê¶Œìœ¼ë¡œ, "
            "ê³ ì†Œë“ì¸µ ë¹„ìœ¨ {high_income_pct}%ì´ë©° "
            "ì‹¬ë¯¸Â·ì„í”Œë€íŠ¸ ìˆ˜ìš”ê°€ í’ë¶€í•©ë‹ˆë‹¤."
        )
    },

    'TYPE_E': {  # ì „ë¬¸ íŠ¹í™”í˜•
        'name': 'ì „ë¬¸ íŠ¹í™”í˜• (ì „ë¬¸ì˜, íŠ¹í™” ì§„ë£Œ)',
        'weight_override': {
            'cost': 1.0,
            'competition': 1.5,  # ê°™ì€ ì „ë¬¸ë¶„ì•¼ ê²½ìŸ ì¤‘ì‹œ
            'population': 1.0,
            'access': 1.3,       # ê´‘ì—­ ì ‘ê·¼ì„± (ë¨¼ ê±°ë¦¬ë„ ì˜´)
            'growth': 0.8,
        },
        'filters': {
            'specialty_competition': True,  # ë™ì¼ ì „ë¬¸ê³¼ ê²½ìŸë§Œ ì²´í¬
            'catchment_radius': 3000,       # ìƒê¶Œ ë°˜ê²½ 3km (ë„“ìŒ)
            'near_hospital': True,          # ì¢…í•©ë³‘ì› ì¸ê·¼ ì„ í˜¸
        },
        'recommended_scale': 'M',
        'opening_type_bias': 'new',
        'risk_tolerance': 'medium',
        'message_template': (
            "{specialty} ì „ë¬¸ì˜ì´ì‹  {name} ì„ ìƒë‹˜ì€ "
            "ë°˜ê²½ 3km ë‚´ ê°™ì€ ì „ë¬¸ê³¼ ê²½ìŸì´ ì ê³ , "
            "ì¢…í•©ë³‘ì› ì¸ê·¼ì— ìœ„ì¹˜í•œ ê³³ì´ í˜‘ì§„Â·ì˜ë¢°ì— ìœ ë¦¬í•©ë‹ˆë‹¤. "
            "{region} ì§€ì—­ì€ {specialty} ì „ë¬¸ ì¹˜ê³¼ê°€ "
            "{specialty_count}ê°œë¡œ ê¸°íšŒê°€ ìˆìŠµë‹ˆë‹¤."
        )
    },

    'TYPE_F': {  # íŒŒíŠ¸ë„ˆì‹­í˜•
        'name': 'íŒŒíŠ¸ë„ˆì‹­í˜• (ê³µë™ ê°œì›)',
        'weight_override': {
            'cost': 0.8,        # ë¹„ìš© ë¶„ë‹´ì´ë¯€ë¡œ ë‚®ìŒ
            'competition': 1.2,
            'population': 1.3,
            'access': 1.2,
            'growth': 1.2,
        },
        'filters': {
            'min_area_pyeong': 50,
            'max_area_pyeong': 100,
            'multi_chair': True,   # ìœ ë‹› 5ê°œ ì´ìƒ
        },
        'recommended_scale': 'L',
        'opening_type_bias': 'neutral',
        'risk_tolerance': 'medium',
        'message_template': (
            "ê³µë™ ê°œì›ì„ ê³„íš ì¤‘ì´ì‹  {name} ì„ ìƒë‹˜ì€ "
            "ë„“ì€ ë©´ì ê³¼ ë†’ì€ ì¸êµ¬ ë°€ë„ë¥¼ ê°–ì¶˜ ì§€ì—­ì´ ì í•©í•©ë‹ˆë‹¤. "
            "{region}ì€ 50í‰ ì´ìƒ ë§¤ë¬¼ì´ {listing_count}ê±´ ìˆìœ¼ë©°, "
            "1ì¸ë‹¹ íˆ¬ì ë¶€ë‹´ì€ ì•½ {per_person_cost}ë§Œì›ì…ë‹ˆë‹¤."
        )
    },
}
```

### ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ ì‹¤í–‰ íë¦„

```python
def recommend_locations(user_profile, top_n=5):
    """ì›ì¥ ìœ í˜•ì— ë§ëŠ” ìµœì  ì…ì§€ TOP N ì¶”ì²œ"""

    # 1. ìœ í˜• íŒë³„
    user_type = classify_user_type(user_profile)
    config = RECOMMENDATION_PROFILES[user_type]

    # 2. 1ì°¨ í•„í„°ë§ â€” ì¡°ê±´ì— ë§ëŠ” í–‰ì •ë™ í•„í„°
    candidate_regions = filter_regions(
        preferred_regions=user_profile.preferred_regions,
        filters=config['filters']
    )

    # 3. 2ì°¨ ìŠ¤ì½”ì–´ë§ â€” ê°€ì¤‘ì¹˜ ì ìš© ì ìˆ˜ ì‚°ì¶œ
    scored = []
    for region in candidate_regions:
        base_score = calculate_location_score(region)
        weighted_score = apply_weights(base_score, config['weight_override'])
        scored.append({
            'region': region,
            'score': weighted_score,
            'breakdown': base_score
        })

    # 4. ì •ë ¬ ë° TOP N
    scored.sort(key=lambda x: x['score'], reverse=True)
    top_locations = scored[:top_n]

    # 5. AI ë¬¸ì¥ ìƒì„±
    for loc in top_locations:
        loc['recommendation_text'] = generate_recommendation(
            template=config['message_template'],
            location=loc['region'],
            user=user_profile
        )

    # 6. ê°œì—… vs ì¸ìˆ˜ íŒì • (ê° í›„ë³´ì§€ë³„)
    for loc in top_locations:
        acquisitions = find_nearby_acquisitions(loc['region'])
        if acquisitions:
            new_score = loc['score']
            acq_score = max(calculate_acquisition_score(a, user_profile) for a in acquisitions)
            loc['decision'] = decide_open_vs_acquire(new_score, acq_score, user_profile)
        else:
            loc['decision'] = {
                'decision': 'OPEN_NEW',
                'confidence': 0.8,
                'reason': 'í•´ë‹¹ ì§€ì—­ì— ì¸ìˆ˜ ê°€ëŠ¥í•œ ë§¤ë¬¼ì´ ì—†ì–´ ì‹ ê·œ ê°œì›ì„ ì¶”ì²œí•©ë‹ˆë‹¤.'
            }

    return {
        'user_type': user_type,
        'type_name': config['name'],
        'top_locations': top_locations
    }
```

---

## Dï¸âƒ£ íˆ¬ììÂ·ê¸ˆìœµ ì—°ê³„ êµ¬ì¡°

### ìˆ˜ìµ ëª¨ë¸ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ìˆ˜ìµ íë¦„ (Revenue Streams)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [B2C â€” ì›ì¥ ëŒ€ìƒ]                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ êµ¬ë…ë£Œ       â”‚ â”‚ ë¦¬í¬íŠ¸ ê±´ë³„  â”‚ â”‚ í”„ë¦¬ë¯¸ì—„ ì»¨ì„¤íŒ…  â”‚    â”‚
â”‚  â”‚ ì›” 9.9~49ë§Œ  â”‚ â”‚ ê±´ë‹¹ 5~15ë§Œ  â”‚ â”‚ ê±´ë‹¹ 50~200ë§Œ    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  [B2B â€” ê¸°ì—… ëŒ€ìƒ]                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ê¸ˆìœµì‚¬ ì—°ê³„  â”‚ â”‚ ì¥ë¹„ì—…ì²´     â”‚ â”‚ ì¸í…Œë¦¬ì–´ ì—…ì²´    â”‚    â”‚
â”‚  â”‚ ëŒ€ì¶œ ì¤‘ê°œ    â”‚ â”‚ ê´‘ê³ Â·ì¶”ì²œ    â”‚ â”‚ ê´‘ê³ Â·ë§¤ì¹­        â”‚    â”‚
â”‚  â”‚ ê±´ë‹¹ ìˆ˜ìˆ˜ë£Œ  â”‚ â”‚ CPA/CPC     â”‚ â”‚ CPA/CPC          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  [ë°ì´í„° Â· ë¶€ê°€ ì„œë¹„ìŠ¤]                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚ ìƒê¶Œ ë¦¬í¬íŠ¸  â”‚ â”‚ API ë¼ì´ì„ ìŠ¤ â”‚                          â”‚
â”‚  â”‚ (ë¶€ë™ì‚° ë“±)  â”‚ â”‚ (ê¸°ì—…ìš©)     â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê¸ˆìœµ ì—°ê³„ íë¦„

```
ì›ì¥ ì‚¬ìš©ì
    â”‚
    â”‚  â‘  íˆ¬ìê¸ˆ ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ í™•ì¸
    â”‚     (ì´ í•„ìš”ìê¸ˆ: 2.5ì–µ, ìê¸°ìë³¸: 1ì–µ)
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  "ëŒ€ì¶œ ë¹„êµ & ìƒë‹´ ì‹ ì²­" ë²„íŠ¼               â”‚
â”‚                                             â”‚
â”‚  â”Œâ”€ ì œíœ´ ê¸ˆìœµì‚¬ ë¹„êµ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚  ì€í–‰A  ê¸ˆë¦¬ 4.2%  í•œë„ 2ì–µ  [ì‹ ì²­] â”‚    â”‚
â”‚  â”‚  ì€í–‰B  ê¸ˆë¦¬ 4.5%  í•œë„ 3ì–µ  [ì‹ ì²­] â”‚    â”‚
â”‚  â”‚  ì€í–‰C  ê¸ˆë¦¬ 3.9%  í•œë„ 1.5ì–µ[ì‹ ì²­] â”‚    â”‚
â”‚  â”‚  í•€í…Œí¬D ê¸ˆë¦¬ 5.1% í•œë„ 1ì–µ  [ì‹ ì²­] â”‚    â”‚
â”‚  â”‚                                     â”‚    â”‚
â”‚  â”‚  * ê°œì¸ ì‹ ìš©ë“±ê¸‰ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜    â”‚    â”‚
â”‚  â”‚    ìˆìŠµë‹ˆë‹¤                          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                             â”‚
â”‚  ğŸ“Š ëŒ€ì¶œ ì‹œ ì›” ìƒí™˜ì•¡ ì‹œë®¬ë ˆì´ì…˜            â”‚
â”‚  - ëŒ€ì¶œ 1.5ì–µ, 5ë…„ ìƒí™˜ â†’ ì›” 310ë§Œì›        â”‚
â”‚  - ìˆœì´ìµì—ì„œ ìƒí™˜ í›„ â†’ ì›” 1,390ë§Œì›         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚  â‘¡ ìƒë‹´ ì‹ ì²­ (ë¦¬ë“œ ì „ë‹¬)
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì œíœ´ ê¸ˆìœµì‚¬                â”‚
â”‚  - ë¦¬ë“œ 1ê±´ë‹¹ ìˆ˜ìˆ˜ë£Œ ì§€ê¸‰   â”‚
â”‚  - ë˜ëŠ” ëŒ€ì¶œ ì‹¤í–‰ ì‹œ %      â”‚
â”‚  - ì˜ˆ: ê±´ë‹¹ 10~50ë§Œì›       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### íˆ¬ìììš© ë‹¨ìœ„ ê²½ì œ (Unit Economics)

```
1ëª…ì˜ ìœ ë£Œ ì‚¬ìš©ì ê¸°ì¤€ (ì›”)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARPU (í‰ê·  ë§¤ì¶œ)          299,000ì›
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
(-) ë°ì´í„° ë¹„ìš©            30,000ì›
(-) ì¸í”„ë¼ ë¹„ìš©            15,000ì›
(-) ê²°ì œ ìˆ˜ìˆ˜ë£Œ (3.5%)     10,500ì›
(-) ê³ ê° íšë“ ë¹„ìš© (CAC/12) 50,000ì›
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
= ê³µí—Œì´ìµ               193,500ì›
= ê³µí—Œì´ìµë¥                   65%
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

CAC (ê³ ê° íšë“ ë¹„ìš©): ~60ë§Œì›
LTV (ìƒì•  ê°€ì¹˜): 299,000 Ã— 12ê°œì›” Ã— 65% = 2,332,200ì›
LTV/CAC = 3.9ë°° (3ë°° ì´ìƒì´ë©´ ê±´ê°•)
```
